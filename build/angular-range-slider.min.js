(function(){angular.module("ngSlider",[]).directive("slider",[function(){return{restrict:"A",scope:{minValue:"=",maxValue:"=",minOut:"=",maxOut:"=",jumping:"=",bubbleOffset:"=?"},template:"<div class='slider'><div class='slider-container'><div class='slider-range'  id='slider-range'><div class='slider-btn min' id='slider-btn-min'><span class='slider-btn-val'>{{min}}</span></div><div class='slider-btn max'><span class='slider-btn-val'>{{max}}</span></div></div></div></div>",link:function(n){var t,e,i,u,r,a,m,l,o,s,d,c,f,h,x,v,g,p,b,V,E,O,y,L,M,A,B,w,N,X,U;return g=document.getElementById("slider-btn-min"),h=document.getElementsByClassName("slider-btn max")[0],M=document.getElementsByClassName("slider-container")[0],A=document.getElementById("slider-range"),u=g.clientWidth,i=1|n.bubbleOffset,v=0,N=0,n.min=n.minOut,n.max=n.maxOut,d=n.maxValue,c=n.minValue,B=0,t="MAX_BUBBLE",e="MIN_BUBBLE",a=!1,w=(n.min-n.minValue)*N,o=(n.maxValue-n.max)*N,x=Number.MAX_VALUE,p=-Number.MAX_VALUE,E=0,f=0,n.$watch(g,function(){return u=g.clientWidth,g.style.left=-i+"px",E=-i}),n.$watch(h,function(){return h.style.right=-i+"px",f=-i}),n.$watch("minOut",function(){return n.minOut>=n.minValue&&n.minOut<n.maxOut?(n.min=n.minOut,U()):void 0}),n.$watch("maxOut",function(){return n.maxOut>n.minValue&&n.maxOut<=n.maxValue?(n.max=n.maxOut,U()):void 0}),h.addEventListener("mousedown",function(n){return m("right",h,t,n)}),h.addEventListener("touchstart",function(n){return m("right",h,t,n)}),g.addEventListener("mousedown",function(n){return m("left",g,e,n)}),g.addEventListener("touchstart",function(n){return m("left",g,e,n)}),document.addEventListener("mouseup",function(){return l()}),document.addEventListener("touchend",function(){return l()}),document.body.addEventListener("touchmove",function(n){return b(n)}),document.body.onmousemove=function(n){return b(n)},window.addEventListener("resize",function(){return U()}),U=function(){return v=M.clientWidth-2*(u-i),N=v/(n.maxValue-n.minValue-1),A.style.left=Math.floor((n.min-n.minValue)*N)+"px",A.style.right=Math.floor((n.maxValue-n.max)*N)+"px"},U(),m=function(n,t,e,i){return i.preventDefault(),i.changedTouches&&(i=i.changedTouches[0]),t.style[n]&&(B=s(n)),a=e,w=Math.floor(i.clientX)},l=function(){return a=!1,V(),X(),n.$apply()},b=function(n){return n.changedTouches&&(n=n.changedTouches[0]),a===t&&r(n,"right","left",L),a===e?r(n,"left","right",O):void 0},r=function(t,e,i,u){return o=Math.floor(t.clientX),u(),n.$apply()},L=function(){return y(E,-1,"maxValue","max","min",d,"right","left")},O=function(){return y(f,1,"minValue","min","max",c,"left","right")},y=function(t,e,i,u,r,a,m,l){var d;if(t=B-(w-o)*e,d=n[u],t>-1&&(n[u]=a+Math.floor(t/N*e)),n.max<=n.min&&(n[u]=n[r]-e),(n[u]<=n[i]*e||-1>t)&&(n[u]=n[i]),n.jumping){if(n[u]!==d&&n.min<n.max&&n[u]>=n[i]*e)return A.style[m]=(n[u]-a)*e*N+"px"}else if(n.min<n.max&&n[u]>=n[i]*e&&t/N>0)return A.style[m]=Math.min(B-(w-o)*e,v-s(l))+"px"},X=function(){return n.minOut=n.min,n.maxOut=n.max},s=function(n){return A.style[n].slice(0,-2)},V=function(){return x=Number.MAX_VALUE,p=-Number.MAX_VALUE},!1}}}])}).call(this);
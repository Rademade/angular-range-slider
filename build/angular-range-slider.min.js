(function(){angular.module("ngSlider",[]).directive("slider",[function(){return{restrict:"A",scope:{minValue:"=",maxValue:"=",minOut:"=",maxOut:"=",jumping:"="},template:"<div class='slider'><div class='slider-container'><div class='slider-range'  id='slider-range'><div class='slider-btn min' id='slider-btn-min'><span class='slider-btn-val'>{{min}}</span></div><div class='slider-btn max'><span class='slider-btn-val'>{{max}}</span></div></div></div></div>",link:function(n){var t,e,i,u,r,a,m,l,o,s,d,c,f,h,x,v,g,p,V,E,y,O,L,b,M,A,B,w,N;return x=document.getElementById("slider-btn-min"),c=document.getElementsByClassName("slider-btn max")[0],L=document.getElementsByClassName("slider-container")[0],b=document.getElementById("slider-range"),h=L.clientWidth,B=0,n.min=n.minOut,n.max=n.maxOut,o=n.maxValue,s=n.minValue,M=0,t="MAX_BUBBLE",e="MIN_BUBBLE",u=!1,A=(n.min-n.minValue)*B,m=(n.maxValue-n.max)*B,f=Number.MAX_VALUE,v=-Number.MAX_VALUE,V=0,d=0,n.$watch(x,function(){return x.style.left=-x.offsetWidth+"px",V=-x.offsetWidth}),n.$watch(c,function(){return c.style.right=-c.offsetWidth+"px",d=-x.offsetWidth}),n.$watch("minOut",function(){return n.minOut>=n.minValue&&n.minOut<n.maxOut?(n.min=n.minOut,N()):void 0}),n.$watch("maxOut",function(){return n.maxOut>n.minValue&&n.maxOut<=n.maxValue?(n.max=n.maxOut,N()):void 0}),c.addEventListener("mousedown",function(n){return r("right",c,t,n)}),c.addEventListener("touchstart",function(n){return r("right",c,t,n)}),x.addEventListener("mousedown",function(n){return r("left",x,e,n)}),x.addEventListener("touchstart",function(n){return r("left",x,e,n)}),document.addEventListener("mouseup",function(){return a()}),document.addEventListener("touchend",function(){return a()}),document.body.addEventListener("touchmove",function(n){return g(n)}),document.body.onmousemove=function(n){return g(n)},window.addEventListener("resize",function(){return N()}),N=function(){return h=L.clientWidth,B=h/(n.maxValue-n.minValue-1),b.style.left=Math.floor((n.min-n.minValue)*B)+"px",b.style.right=Math.floor((n.maxValue-n.max)*B)+"px"},N(),r=function(n,t,e,i){return i.preventDefault(),i.stopPropagation(),i.changedTouches&&(i=i.changedTouches[0]),t.style[n]&&(M=l(n)),u=e,A=Math.floor(i.clientX)},a=function(){return u=!1,p(),w(),n.$apply()},g=function(n){return n.changedTouches&&(n=n.changedTouches[0]),u===t&&i(n,"right","left",O),u===e?i(n,"left","right",E):void 0},i=function(t,e,i,u){return m=Math.floor(t.clientX),u(),n.$apply()},O=function(){return y(V,-1,"maxValue","max","min",o,"right","left")},E=function(){return y(d,1,"minValue","min","max",s,"left","right")},y=function(t,e,i,u,r,a,o,s){var d;if(t=M-(A-m)*e,d=n[u],t>-1&&(n[u]=a+Math.floor(t/B*e)),n.max<=n.min&&(n[u]=n[r]-e),(n[u]<=n[i]*e||-1>t)&&(n[u]=n[i]),n.jumping){if(n[u]!==d&&n.min<n.max&&n[u]>=n[i]*e)return b.style[o]=(n[u]-a)*e*B+"px"}else if(n.min<n.max&&n[u]>=n[i]*e&&t/B>0)return b.style[o]=Math.min(M-(A-m)*e,h-l(s))+"px"},w=function(){return n.minOut=n.min,n.maxOut=n.max},l=function(n){return b.style[n].slice(0,-2)},p=function(){return f=Number.MAX_VALUE,v=-Number.MAX_VALUE},!1}}}])}).call(this);